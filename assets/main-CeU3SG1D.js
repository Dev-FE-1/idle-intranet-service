var rn=Object.defineProperty;var on=(t,e,n)=>e in t?rn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var M=(t,e,n)=>on(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();const ee={PRIMARY:"var(--color-primary)",BLACK:"var(--color-black)",DARKEST_GRAY:"var(--color-darkest-gray)",DARK_GRAY:"var(--color-dark-gray)",LIGHT_GRAY:"var(--color-light-gray)",LIGHTEST_GRAY:"var(--color-lightest-gray)"},X="/idle-intranet-service",k={SIGNIN:`${X}/signin`,HOME:`${X}/`,ANNOUNCEMENT:`${X}/announcements/:id`,ANNOUNCEMENTS:`${X}/announcements`,MEMBER:`${X}/members/:id`,MEMBERS:`${X}/members`,PROFILE:`${X}/profile`,WORK_MANAGE:`${X}/work-manage`},D={SIGNIN:"로그인",HOME:"홈",MEMBERS:"구성원",PROFILE:"프로필",WORK_MANAGE:"근무/휴가",ANNOUNCEMENT:"공지사항"};var an={VITE_SERVER_URL:"https://equal-rosemarie-deun-b63b6790.koyeb.app",VITE_BASE_URL:"/idle-intranet-service",BASE_URL:"/idle-intranet-service/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_SERVER_URL:cn}=an,St=cn,ln=async(t,e,n)=>{try{const s=await fetch(`${St}/api/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:e})});if(!s.ok){const i=await s.json();s.status===400?n(`잘못된 요청입니다. ${i.error}`):s.status===401?n("로그인에 실패하였습니다. 이메일과 비밀번호를 다시 확인해 주시기 바랍니다"):n(`오류: ${i.message||"알 수 없는 오류가 발생했습니다."}`);return}const r=await s.json();r.status==="OK"?(localStorage.setItem("token",r.token),window.location.href=k.HOME):n(`로그인에 실패하였습니다: ${r.message||"알 수 없는 오류가 발생했습니다."}`)}catch{n("알 수 없는 오류가 발생했습니다.")}},$t=()=>{localStorage.removeItem("token"),window.location.href=k.SIGNIN},ce=async()=>{const t=localStorage.getItem("token");if(!t)return!1;try{const e=await fetch(`${St}/api/verify-token`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}});if(!e.ok)throw new Error("Token is not valid");return(await e.json()).valid}catch(e){return console.error("Token verification failed:",e),!1}};function Rt(t,e){return function(){return t.apply(e,arguments)}}const{toString:un}=Object.prototype,{getPrototypeOf:Xe}=Object,Ne=(t=>e=>{const n=un.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),K=t=>(t=t.toLowerCase(),e=>Ne(e)===t),Ce=t=>e=>typeof e===t,{isArray:he}=Array,ye=Ce("undefined");function hn(t){return t!==null&&!ye(t)&&t.constructor!==null&&!ye(t.constructor)&&j(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Tt=K("ArrayBuffer");function dn(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Tt(t.buffer),e}const mn=Ce("string"),j=Ce("function"),At=Ce("number"),Le=t=>t!==null&&typeof t=="object",fn=t=>t===!0||t===!1,Ie=t=>{if(Ne(t)!=="object")return!1;const e=Xe(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},pn=K("Date"),gn=K("File"),wn=K("Blob"),yn=K("FileList"),bn=t=>Le(t)&&j(t.pipe),vn=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||j(t.append)&&((e=Ne(t))==="formdata"||e==="object"&&j(t.toString)&&t.toString()==="[object FormData]"))},En=K("URLSearchParams"),[Sn,$n,Rn,Tn]=["ReadableStream","Request","Response","Headers"].map(K),An=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ve(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let s,r;if(typeof t!="object"&&(t=[t]),he(t))for(s=0,r=t.length;s<r;s++)e.call(null,t[s],s,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let c;for(s=0;s<o;s++)c=i[s],e.call(null,t[c],c,t)}}function kt(t,e){e=e.toLowerCase();const n=Object.keys(t);let s=n.length,r;for(;s-- >0;)if(r=n[s],e===r.toLowerCase())return r;return null}const It=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Mt=t=>!ye(t)&&t!==It;function Ve(){const{caseless:t}=Mt(this)&&this||{},e={},n=(s,r)=>{const i=t&&kt(e,r)||r;Ie(e[i])&&Ie(s)?e[i]=Ve(e[i],s):Ie(s)?e[i]=Ve({},s):he(s)?e[i]=s.slice():e[i]=s};for(let s=0,r=arguments.length;s<r;s++)arguments[s]&&ve(arguments[s],n);return e}const kn=(t,e,n,{allOwnKeys:s}={})=>(ve(e,(r,i)=>{n&&j(r)?t[i]=Rt(r,n):t[i]=r},{allOwnKeys:s}),t),In=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Mn=(t,e,n,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Pn=(t,e,n,s)=>{let r,i,o;const c={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),i=r.length;i-- >0;)o=r[i],(!s||s(o,t,e))&&!c[o]&&(e[o]=t[o],c[o]=!0);t=n!==!1&&Xe(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},On=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const s=t.indexOf(e,n);return s!==-1&&s===n},_n=t=>{if(!t)return null;if(he(t))return t;let e=t.length;if(!At(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Nn=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Xe(Uint8Array)),Cn=(t,e)=>{const s=(t&&t[Symbol.iterator]).call(t);let r;for(;(r=s.next())&&!r.done;){const i=r.value;e.call(t,i[0],i[1])}},Ln=(t,e)=>{let n;const s=[];for(;(n=t.exec(e))!==null;)s.push(n);return s},xn=K("HTMLFormElement"),Bn=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,r){return s.toUpperCase()+r}),ot=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Dn=K("RegExp"),Pt=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),s={};ve(n,(r,i)=>{let o;(o=e(r,i,t))!==!1&&(s[i]=o||r)}),Object.defineProperties(t,s)},Un=t=>{Pt(t,(e,n)=>{if(j(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=t[n];if(j(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Fn=(t,e)=>{const n={},s=r=>{r.forEach(i=>{n[i]=!0})};return he(t)?s(t):s(String(t).split(e)),n},Hn=()=>{},jn=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,Ue="abcdefghijklmnopqrstuvwxyz",at="0123456789",Ot={DIGIT:at,ALPHA:Ue,ALPHA_DIGIT:Ue+Ue.toUpperCase()+at},qn=(t=16,e=Ot.ALPHA_DIGIT)=>{let n="";const{length:s}=e;for(;t--;)n+=e[Math.random()*s|0];return n};function Vn(t){return!!(t&&j(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const Wn=t=>{const e=new Array(10),n=(s,r)=>{if(Le(s)){if(e.indexOf(s)>=0)return;if(!("toJSON"in s)){e[r]=s;const i=he(s)?[]:{};return ve(s,(o,c)=>{const h=n(o,r+1);!ye(h)&&(i[c]=h)}),e[r]=void 0,i}}return s};return n(t,0)},zn=K("AsyncFunction"),Gn=t=>t&&(Le(t)||j(t))&&j(t.then)&&j(t.catch),a={isArray:he,isArrayBuffer:Tt,isBuffer:hn,isFormData:vn,isArrayBufferView:dn,isString:mn,isNumber:At,isBoolean:fn,isObject:Le,isPlainObject:Ie,isReadableStream:Sn,isRequest:$n,isResponse:Rn,isHeaders:Tn,isUndefined:ye,isDate:pn,isFile:gn,isBlob:wn,isRegExp:Dn,isFunction:j,isStream:bn,isURLSearchParams:En,isTypedArray:Nn,isFileList:yn,forEach:ve,merge:Ve,extend:kn,trim:An,stripBOM:In,inherits:Mn,toFlatObject:Pn,kindOf:Ne,kindOfTest:K,endsWith:On,toArray:_n,forEachEntry:Cn,matchAll:Ln,isHTMLForm:xn,hasOwnProperty:ot,hasOwnProp:ot,reduceDescriptors:Pt,freezeMethods:Un,toObjectSet:Fn,toCamelCase:Bn,noop:Hn,toFiniteNumber:jn,findKey:kt,global:It,isContextDefined:Mt,ALPHABET:Ot,generateString:qn,isSpecCompliantForm:Vn,toJSONObject:Wn,isAsyncFn:zn,isThenable:Gn};function b(t,e,n,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),s&&(this.request=s),r&&(this.response=r)}a.inherits(b,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:a.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const _t=b.prototype,Nt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Nt[t]={value:t}});Object.defineProperties(b,Nt);Object.defineProperty(_t,"isAxiosError",{value:!0});b.from=(t,e,n,s,r,i)=>{const o=Object.create(_t);return a.toFlatObject(t,o,function(h){return h!==Error.prototype},c=>c!=="isAxiosError"),b.call(o,t.message,e,n,s,r),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const Kn=null;function We(t){return a.isPlainObject(t)||a.isArray(t)}function Ct(t){return a.endsWith(t,"[]")?t.slice(0,-2):t}function ct(t,e,n){return t?t.concat(e).map(function(r,i){return r=Ct(r),!n&&i?"["+r+"]":r}).join(n?".":""):e}function Jn(t){return a.isArray(t)&&!t.some(We)}const Yn=a.toFlatObject(a,{},null,function(e){return/^is[A-Z]/.test(e)});function xe(t,e,n){if(!a.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=a.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,C){return!a.isUndefined(C[v])});const s=n.metaTokens,r=n.visitor||l,i=n.dots,o=n.indexes,h=(n.Blob||typeof Blob<"u"&&Blob)&&a.isSpecCompliantForm(e);if(!a.isFunction(r))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(a.isDate(g))return g.toISOString();if(!h&&a.isBlob(g))throw new b("Blob is not supported. Use a Buffer instead.");return a.isArrayBuffer(g)||a.isTypedArray(g)?h&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function l(g,v,C){let L=g;if(g&&!C&&typeof g=="object"){if(a.endsWith(v,"{}"))v=s?v:v.slice(0,-2),g=JSON.stringify(g);else if(a.isArray(g)&&Jn(g)||(a.isFileList(g)||a.endsWith(v,"[]"))&&(L=a.toArray(g)))return v=Ct(v),L.forEach(function(T,te){!(a.isUndefined(T)||T===null)&&e.append(o===!0?ct([v],te,i):o===null?v:v+"[]",u(T))}),!1}return We(g)?!0:(e.append(ct(C,v,i),u(g)),!1)}const p=[],I=Object.assign(Yn,{defaultVisitor:l,convertValue:u,isVisitable:We});function $(g,v){if(!a.isUndefined(g)){if(p.indexOf(g)!==-1)throw Error("Circular reference detected in "+v.join("."));p.push(g),a.forEach(g,function(L,W){(!(a.isUndefined(L)||L===null)&&r.call(e,L,a.isString(W)?W.trim():W,v,I))===!0&&$(L,v?v.concat(W):[W])}),p.pop()}}if(!a.isObject(t))throw new TypeError("data must be an object");return $(t),e}function lt(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function Qe(t,e){this._pairs=[],t&&xe(t,this,e)}const Lt=Qe.prototype;Lt.append=function(e,n){this._pairs.push([e,n])};Lt.toString=function(e){const n=e?function(s){return e.call(this,s,lt)}:lt;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function Zn(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function xt(t,e,n){if(!e)return t;const s=n&&n.encode||Zn,r=n&&n.serialize;let i;if(r?i=r(e,n):i=a.isURLSearchParams(e)?e.toString():new Qe(e,n).toString(s),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class ut{constructor(){this.handlers=[]}use(e,n,s){return this.handlers.push({fulfilled:e,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){a.forEach(this.handlers,function(s){s!==null&&e(s)})}}const Bt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Xn=typeof URLSearchParams<"u"?URLSearchParams:Qe,Qn=typeof FormData<"u"?FormData:null,es=typeof Blob<"u"?Blob:null,ts={isBrowser:!0,classes:{URLSearchParams:Xn,FormData:Qn,Blob:es},protocols:["http","https","file","blob","url","data"]},et=typeof window<"u"&&typeof document<"u",ns=(t=>et&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),ss=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",rs=et&&window.location.href||"http://localhost",is=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:et,hasStandardBrowserEnv:ns,hasStandardBrowserWebWorkerEnv:ss,origin:rs},Symbol.toStringTag,{value:"Module"})),G={...is,...ts};function os(t,e){return xe(t,new G.classes.URLSearchParams,Object.assign({visitor:function(n,s,r,i){return G.isNode&&a.isBuffer(n)?(this.append(s,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function as(t){return a.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function cs(t){const e={},n=Object.keys(t);let s;const r=n.length;let i;for(s=0;s<r;s++)i=n[s],e[i]=t[i];return e}function Dt(t){function e(n,s,r,i){let o=n[i++];if(o==="__proto__")return!0;const c=Number.isFinite(+o),h=i>=n.length;return o=!o&&a.isArray(r)?r.length:o,h?(a.hasOwnProp(r,o)?r[o]=[r[o],s]:r[o]=s,!c):((!r[o]||!a.isObject(r[o]))&&(r[o]=[]),e(n,s,r[o],i)&&a.isArray(r[o])&&(r[o]=cs(r[o])),!c)}if(a.isFormData(t)&&a.isFunction(t.entries)){const n={};return a.forEachEntry(t,(s,r)=>{e(as(s),r,n,0)}),n}return null}function ls(t,e,n){if(a.isString(t))try{return(e||JSON.parse)(t),a.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(t)}const Ee={transitional:Bt,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const s=n.getContentType()||"",r=s.indexOf("application/json")>-1,i=a.isObject(e);if(i&&a.isHTMLForm(e)&&(e=new FormData(e)),a.isFormData(e))return r?JSON.stringify(Dt(e)):e;if(a.isArrayBuffer(e)||a.isBuffer(e)||a.isStream(e)||a.isFile(e)||a.isBlob(e)||a.isReadableStream(e))return e;if(a.isArrayBufferView(e))return e.buffer;if(a.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return os(e,this.formSerializer).toString();if((c=a.isFileList(e))||s.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return xe(c?{"files[]":e}:e,h&&new h,this.formSerializer)}}return i||r?(n.setContentType("application/json",!1),ls(e)):e}],transformResponse:[function(e){const n=this.transitional||Ee.transitional,s=n&&n.forcedJSONParsing,r=this.responseType==="json";if(a.isResponse(e)||a.isReadableStream(e))return e;if(e&&a.isString(e)&&(s&&!this.responseType||r)){const o=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(c){if(o)throw c.name==="SyntaxError"?b.from(c,b.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:G.classes.FormData,Blob:G.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};a.forEach(["delete","get","head","post","put","patch"],t=>{Ee.headers[t]={}});const us=a.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),hs=t=>{const e={};let n,s,r;return t&&t.split(`
`).forEach(function(o){r=o.indexOf(":"),n=o.substring(0,r).trim().toLowerCase(),s=o.substring(r+1).trim(),!(!n||e[n]&&us[n])&&(n==="set-cookie"?e[n]?e[n].push(s):e[n]=[s]:e[n]=e[n]?e[n]+", "+s:s)}),e},ht=Symbol("internals");function we(t){return t&&String(t).trim().toLowerCase()}function Me(t){return t===!1||t==null?t:a.isArray(t)?t.map(Me):String(t)}function ds(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(t);)e[s[1]]=s[2];return e}const ms=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Fe(t,e,n,s,r){if(a.isFunction(s))return s.call(this,e,n);if(r&&(e=n),!!a.isString(e)){if(a.isString(s))return e.indexOf(s)!==-1;if(a.isRegExp(s))return s.test(e)}}function fs(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,s)=>n.toUpperCase()+s)}function ps(t,e){const n=a.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+n,{value:function(r,i,o){return this[s].call(this,e,r,i,o)},configurable:!0})})}class F{constructor(e){e&&this.set(e)}set(e,n,s){const r=this;function i(c,h,u){const l=we(h);if(!l)throw new Error("header name must be a non-empty string");const p=a.findKey(r,l);(!p||r[p]===void 0||u===!0||u===void 0&&r[p]!==!1)&&(r[p||h]=Me(c))}const o=(c,h)=>a.forEach(c,(u,l)=>i(u,l,h));if(a.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(a.isString(e)&&(e=e.trim())&&!ms(e))o(hs(e),n);else if(a.isHeaders(e))for(const[c,h]of e.entries())i(h,c,s);else e!=null&&i(n,e,s);return this}get(e,n){if(e=we(e),e){const s=a.findKey(this,e);if(s){const r=this[s];if(!n)return r;if(n===!0)return ds(r);if(a.isFunction(n))return n.call(this,r,s);if(a.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=we(e),e){const s=a.findKey(this,e);return!!(s&&this[s]!==void 0&&(!n||Fe(this,this[s],s,n)))}return!1}delete(e,n){const s=this;let r=!1;function i(o){if(o=we(o),o){const c=a.findKey(s,o);c&&(!n||Fe(s,s[c],c,n))&&(delete s[c],r=!0)}}return a.isArray(e)?e.forEach(i):i(e),r}clear(e){const n=Object.keys(this);let s=n.length,r=!1;for(;s--;){const i=n[s];(!e||Fe(this,this[i],i,e,!0))&&(delete this[i],r=!0)}return r}normalize(e){const n=this,s={};return a.forEach(this,(r,i)=>{const o=a.findKey(s,i);if(o){n[o]=Me(r),delete n[i];return}const c=e?fs(i):String(i).trim();c!==i&&delete n[i],n[c]=Me(r),s[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return a.forEach(this,(s,r)=>{s!=null&&s!==!1&&(n[r]=e&&a.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const s=new this(e);return n.forEach(r=>s.set(r)),s}static accessor(e){const s=(this[ht]=this[ht]={accessors:{}}).accessors,r=this.prototype;function i(o){const c=we(o);s[c]||(ps(r,o),s[c]=!0)}return a.isArray(e)?e.forEach(i):i(e),this}}F.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);a.reduceDescriptors(F.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(s){this[n]=s}}});a.freezeMethods(F);function He(t,e){const n=this||Ee,s=e||n,r=F.from(s.headers);let i=s.data;return a.forEach(t,function(c){i=c.call(n,i,r.normalize(),e?e.status:void 0)}),r.normalize(),i}function Ut(t){return!!(t&&t.__CANCEL__)}function de(t,e,n){b.call(this,t??"canceled",b.ERR_CANCELED,e,n),this.name="CanceledError"}a.inherits(de,b,{__CANCEL__:!0});function Ft(t,e,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?t(n):e(new b("Request failed with status code "+n.status,[b.ERR_BAD_REQUEST,b.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function gs(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function ws(t,e){t=t||10;const n=new Array(t),s=new Array(t);let r=0,i=0,o;return e=e!==void 0?e:1e3,function(h){const u=Date.now(),l=s[i];o||(o=u),n[r]=h,s[r]=u;let p=i,I=0;for(;p!==r;)I+=n[p++],p=p%t;if(r=(r+1)%t,r===i&&(i=(i+1)%t),u-o<e)return;const $=l&&u-l;return $?Math.round(I*1e3/$):void 0}}function ys(t,e){let n=0;const s=1e3/e;let r=null;return function(){const o=this===!0,c=Date.now();if(o||c-n>s)return r&&(clearTimeout(r),r=null),n=c,t.apply(null,arguments);r||(r=setTimeout(()=>(r=null,n=Date.now(),t.apply(null,arguments)),s-(c-n)))}}const Oe=(t,e,n=3)=>{let s=0;const r=ws(50,250);return ys(i=>{const o=i.loaded,c=i.lengthComputable?i.total:void 0,h=o-s,u=r(h),l=o<=c;s=o;const p={loaded:o,total:c,progress:c?o/c:void 0,bytes:h,rate:u||void 0,estimated:u&&c&&l?(c-o)/u:void 0,event:i,lengthComputable:c!=null};p[e?"download":"upload"]=!0,t(p)},n)},bs=G.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let s;function r(i){let o=i;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return s=r(window.location.href),function(o){const c=a.isString(o)?r(o):o;return c.protocol===s.protocol&&c.host===s.host}}():function(){return function(){return!0}}(),vs=G.hasStandardBrowserEnv?{write(t,e,n,s,r,i){const o=[t+"="+encodeURIComponent(e)];a.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),a.isString(s)&&o.push("path="+s),a.isString(r)&&o.push("domain="+r),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Es(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Ss(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Ht(t,e){return t&&!Es(e)?Ss(t,e):e}const dt=t=>t instanceof F?{...t}:t;function ae(t,e){e=e||{};const n={};function s(u,l,p){return a.isPlainObject(u)&&a.isPlainObject(l)?a.merge.call({caseless:p},u,l):a.isPlainObject(l)?a.merge({},l):a.isArray(l)?l.slice():l}function r(u,l,p){if(a.isUndefined(l)){if(!a.isUndefined(u))return s(void 0,u,p)}else return s(u,l,p)}function i(u,l){if(!a.isUndefined(l))return s(void 0,l)}function o(u,l){if(a.isUndefined(l)){if(!a.isUndefined(u))return s(void 0,u)}else return s(void 0,l)}function c(u,l,p){if(p in e)return s(u,l);if(p in t)return s(void 0,u)}const h={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c,headers:(u,l)=>r(dt(u),dt(l),!0)};return a.forEach(Object.keys(Object.assign({},t,e)),function(l){const p=h[l]||r,I=p(t[l],e[l],l);a.isUndefined(I)&&p!==c||(n[l]=I)}),n}const jt=t=>{const e=ae({},t);let{data:n,withXSRFToken:s,xsrfHeaderName:r,xsrfCookieName:i,headers:o,auth:c}=e;e.headers=o=F.from(o),e.url=xt(Ht(e.baseURL,e.url),t.params,t.paramsSerializer),c&&o.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let h;if(a.isFormData(n)){if(G.hasStandardBrowserEnv||G.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((h=o.getContentType())!==!1){const[u,...l]=h?h.split(";").map(p=>p.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...l].join("; "))}}if(G.hasStandardBrowserEnv&&(s&&a.isFunction(s)&&(s=s(e)),s||s!==!1&&bs(e.url))){const u=r&&i&&vs.read(i);u&&o.set(r,u)}return e},$s=typeof XMLHttpRequest<"u",Rs=$s&&function(t){return new Promise(function(n,s){const r=jt(t);let i=r.data;const o=F.from(r.headers).normalize();let{responseType:c}=r,h;function u(){r.cancelToken&&r.cancelToken.unsubscribe(h),r.signal&&r.signal.removeEventListener("abort",h)}let l=new XMLHttpRequest;l.open(r.method.toUpperCase(),r.url,!0),l.timeout=r.timeout;function p(){if(!l)return;const $=F.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders()),v={data:!c||c==="text"||c==="json"?l.responseText:l.response,status:l.status,statusText:l.statusText,headers:$,config:t,request:l};Ft(function(L){n(L),u()},function(L){s(L),u()},v),l=null}"onloadend"in l?l.onloadend=p:l.onreadystatechange=function(){!l||l.readyState!==4||l.status===0&&!(l.responseURL&&l.responseURL.indexOf("file:")===0)||setTimeout(p)},l.onabort=function(){l&&(s(new b("Request aborted",b.ECONNABORTED,r,l)),l=null)},l.onerror=function(){s(new b("Network Error",b.ERR_NETWORK,r,l)),l=null},l.ontimeout=function(){let g=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const v=r.transitional||Bt;r.timeoutErrorMessage&&(g=r.timeoutErrorMessage),s(new b(g,v.clarifyTimeoutError?b.ETIMEDOUT:b.ECONNABORTED,r,l)),l=null},i===void 0&&o.setContentType(null),"setRequestHeader"in l&&a.forEach(o.toJSON(),function(g,v){l.setRequestHeader(v,g)}),a.isUndefined(r.withCredentials)||(l.withCredentials=!!r.withCredentials),c&&c!=="json"&&(l.responseType=r.responseType),typeof r.onDownloadProgress=="function"&&l.addEventListener("progress",Oe(r.onDownloadProgress,!0)),typeof r.onUploadProgress=="function"&&l.upload&&l.upload.addEventListener("progress",Oe(r.onUploadProgress)),(r.cancelToken||r.signal)&&(h=$=>{l&&(s(!$||$.type?new de(null,t,l):$),l.abort(),l=null)},r.cancelToken&&r.cancelToken.subscribe(h),r.signal&&(r.signal.aborted?h():r.signal.addEventListener("abort",h)));const I=gs(r.url);if(I&&G.protocols.indexOf(I)===-1){s(new b("Unsupported protocol "+I+":",b.ERR_BAD_REQUEST,t));return}l.send(i||null)})},Ts=(t,e)=>{let n=new AbortController,s;const r=function(h){if(!s){s=!0,o();const u=h instanceof Error?h:this.reason;n.abort(u instanceof b?u:new de(u instanceof Error?u.message:u))}};let i=e&&setTimeout(()=>{r(new b(`timeout ${e} of ms exceeded`,b.ETIMEDOUT))},e);const o=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(h=>{h&&(h.removeEventListener?h.removeEventListener("abort",r):h.unsubscribe(r))}),t=null)};t.forEach(h=>h&&h.addEventListener&&h.addEventListener("abort",r));const{signal:c}=n;return c.unsubscribe=o,[c,()=>{i&&clearTimeout(i),i=null}]},As=function*(t,e){let n=t.byteLength;if(!e||n<e){yield t;return}let s=0,r;for(;s<n;)r=s+e,yield t.slice(s,r),s=r},ks=async function*(t,e,n){for await(const s of t)yield*As(ArrayBuffer.isView(s)?s:await n(String(s)),e)},mt=(t,e,n,s,r)=>{const i=ks(t,e,r);let o=0;return new ReadableStream({type:"bytes",async pull(c){const{done:h,value:u}=await i.next();if(h){c.close(),s();return}let l=u.byteLength;n&&n(o+=l),c.enqueue(new Uint8Array(u))},cancel(c){return s(c),i.return()}},{highWaterMark:2})},ft=(t,e)=>{const n=t!=null;return s=>setTimeout(()=>e({lengthComputable:n,total:t,loaded:s}))},Be=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",qt=Be&&typeof ReadableStream=="function",ze=Be&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Is=qt&&(()=>{let t=!1;const e=new Request(G.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e})(),pt=64*1024,Ge=qt&&!!(()=>{try{return a.isReadableStream(new Response("").body)}catch{}})(),_e={stream:Ge&&(t=>t.body)};Be&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!_e[e]&&(_e[e]=a.isFunction(t[e])?n=>n[e]():(n,s)=>{throw new b(`Response type '${e}' is not supported`,b.ERR_NOT_SUPPORT,s)})})})(new Response);const Ms=async t=>{if(t==null)return 0;if(a.isBlob(t))return t.size;if(a.isSpecCompliantForm(t))return(await new Request(t).arrayBuffer()).byteLength;if(a.isArrayBufferView(t))return t.byteLength;if(a.isURLSearchParams(t)&&(t=t+""),a.isString(t))return(await ze(t)).byteLength},Ps=async(t,e)=>{const n=a.toFiniteNumber(t.getContentLength());return n??Ms(e)},Os=Be&&(async t=>{let{url:e,method:n,data:s,signal:r,cancelToken:i,timeout:o,onDownloadProgress:c,onUploadProgress:h,responseType:u,headers:l,withCredentials:p="same-origin",fetchOptions:I}=jt(t);u=u?(u+"").toLowerCase():"text";let[$,g]=r||i||o?Ts([r,i],o):[],v,C;const L=()=>{!v&&setTimeout(()=>{$&&$.unsubscribe()}),v=!0};let W;try{if(h&&Is&&n!=="get"&&n!=="head"&&(W=await Ps(l,s))!==0){let x=new Request(e,{method:"POST",body:s,duplex:"half"}),J;a.isFormData(s)&&(J=x.headers.get("content-type"))&&l.setContentType(J),x.body&&(s=mt(x.body,pt,ft(W,Oe(h)),null,ze))}a.isString(p)||(p=p?"cors":"omit"),C=new Request(e,{...I,signal:$,method:n.toUpperCase(),headers:l.normalize().toJSON(),body:s,duplex:"half",withCredentials:p});let T=await fetch(C);const te=Ge&&(u==="stream"||u==="response");if(Ge&&(c||te)){const x={};["status","statusText","headers"].forEach(le=>{x[le]=T[le]});const J=a.toFiniteNumber(T.headers.get("content-length"));T=new Response(mt(T.body,pt,c&&ft(J,Oe(c,!0)),te&&L,ze),x)}u=u||"text";let ne=await _e[a.findKey(_e,u)||"text"](T,t);return!te&&L(),g&&g(),await new Promise((x,J)=>{Ft(x,J,{data:ne,headers:F.from(T.headers),status:T.status,statusText:T.statusText,config:t,request:C})})}catch(T){throw L(),T&&T.name==="TypeError"&&/fetch/i.test(T.message)?Object.assign(new b("Network Error",b.ERR_NETWORK,t,C),{cause:T.cause||T}):b.from(T,T&&T.code,t,C)}}),Ke={http:Kn,xhr:Rs,fetch:Os};a.forEach(Ke,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const gt=t=>`- ${t}`,_s=t=>a.isFunction(t)||t===null||t===!1,Vt={getAdapter:t=>{t=a.isArray(t)?t:[t];const{length:e}=t;let n,s;const r={};for(let i=0;i<e;i++){n=t[i];let o;if(s=n,!_s(n)&&(s=Ke[(o=String(n)).toLowerCase()],s===void 0))throw new b(`Unknown adapter '${o}'`);if(s)break;r[o||"#"+i]=s}if(!s){const i=Object.entries(r).map(([c,h])=>`adapter ${c} `+(h===!1?"is not supported by the environment":"is not available in the build"));let o=e?i.length>1?`since :
`+i.map(gt).join(`
`):" "+gt(i[0]):"as no adapter specified";throw new b("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s},adapters:Ke};function je(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new de(null,t)}function wt(t){return je(t),t.headers=F.from(t.headers),t.data=He.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Vt.getAdapter(t.adapter||Ee.adapter)(t).then(function(s){return je(t),s.data=He.call(t,t.transformResponse,s),s.headers=F.from(s.headers),s},function(s){return Ut(s)||(je(t),s&&s.response&&(s.response.data=He.call(t,t.transformResponse,s.response),s.response.headers=F.from(s.response.headers))),Promise.reject(s)})}const Wt="1.7.2",tt={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{tt[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});const yt={};tt.transitional=function(e,n,s){function r(i,o){return"[Axios v"+Wt+"] Transitional option '"+i+"'"+o+(s?". "+s:"")}return(i,o,c)=>{if(e===!1)throw new b(r(o," has been removed"+(n?" in "+n:"")),b.ERR_DEPRECATED);return n&&!yt[o]&&(yt[o]=!0,console.warn(r(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,o,c):!0}};function Ns(t,e,n){if(typeof t!="object")throw new b("options must be an object",b.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let r=s.length;for(;r-- >0;){const i=s[r],o=e[i];if(o){const c=t[i],h=c===void 0||o(c,i,t);if(h!==!0)throw new b("option "+i+" must be "+h,b.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new b("Unknown option "+i,b.ERR_BAD_OPTION)}}const Je={assertOptions:Ns,validators:tt},Q=Je.validators;class ie{constructor(e){this.defaults=e,this.interceptors={request:new ut,response:new ut}}async request(e,n){try{return await this._request(e,n)}catch(s){if(s instanceof Error){let r;Error.captureStackTrace?Error.captureStackTrace(r={}):r=new Error;const i=r.stack?r.stack.replace(/^.+\n/,""):"";try{s.stack?i&&!String(s.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+i):s.stack=i}catch{}}throw s}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=ae(this.defaults,n);const{transitional:s,paramsSerializer:r,headers:i}=n;s!==void 0&&Je.assertOptions(s,{silentJSONParsing:Q.transitional(Q.boolean),forcedJSONParsing:Q.transitional(Q.boolean),clarifyTimeoutError:Q.transitional(Q.boolean)},!1),r!=null&&(a.isFunction(r)?n.paramsSerializer={serialize:r}:Je.assertOptions(r,{encode:Q.function,serialize:Q.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&a.merge(i.common,i[n.method]);i&&a.forEach(["delete","get","head","post","put","patch","common"],g=>{delete i[g]}),n.headers=F.concat(o,i);const c=[];let h=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(h=h&&v.synchronous,c.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let l,p=0,I;if(!h){const g=[wt.bind(this),void 0];for(g.unshift.apply(g,c),g.push.apply(g,u),I=g.length,l=Promise.resolve(n);p<I;)l=l.then(g[p++],g[p++]);return l}I=c.length;let $=n;for(p=0;p<I;){const g=c[p++],v=c[p++];try{$=g($)}catch(C){v.call(this,C);break}}try{l=wt.call(this,$)}catch(g){return Promise.reject(g)}for(p=0,I=u.length;p<I;)l=l.then(u[p++],u[p++]);return l}getUri(e){e=ae(this.defaults,e);const n=Ht(e.baseURL,e.url);return xt(n,e.params,e.paramsSerializer)}}a.forEach(["delete","get","head","options"],function(e){ie.prototype[e]=function(n,s){return this.request(ae(s||{},{method:e,url:n,data:(s||{}).data}))}});a.forEach(["post","put","patch"],function(e){function n(s){return function(i,o,c){return this.request(ae(c||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}ie.prototype[e]=n(),ie.prototype[e+"Form"]=n(!0)});class nt{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const s=this;this.promise.then(r=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](r);s._listeners=null}),this.promise.then=r=>{let i;const o=new Promise(c=>{s.subscribe(c),i=c}).then(r);return o.cancel=function(){s.unsubscribe(i)},o},e(function(i,o,c){s.reason||(s.reason=new de(i,o,c),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new nt(function(r){e=r}),cancel:e}}}function Cs(t){return function(n){return t.apply(null,n)}}function Ls(t){return a.isObject(t)&&t.isAxiosError===!0}const Ye={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ye).forEach(([t,e])=>{Ye[e]=t});function zt(t){const e=new ie(t),n=Rt(ie.prototype.request,e);return a.extend(n,ie.prototype,e,{allOwnKeys:!0}),a.extend(n,e,null,{allOwnKeys:!0}),n.create=function(r){return zt(ae(t,r))},n}const O=zt(Ee);O.Axios=ie;O.CanceledError=de;O.CancelToken=nt;O.isCancel=Ut;O.VERSION=Wt;O.toFormData=xe;O.AxiosError=b;O.Cancel=O.CanceledError;O.all=function(e){return Promise.all(e)};O.spread=Cs;O.isAxiosError=Ls;O.mergeConfig=ae;O.AxiosHeaders=F;O.formToJSON=t=>Dt(a.isHTMLForm(t)?new FormData(t):t);O.getAdapter=Vt.getAdapter;O.HttpStatusCode=Ye;O.default=O;var xs={VITE_SERVER_URL:"https://equal-rosemarie-deun-b63b6790.koyeb.app",VITE_BASE_URL:"/idle-intranet-service",BASE_URL:"/idle-intranet-service/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_SERVER_URL:Gt}=xs;Gt||console.log("server url이 존재하지 않습니다. 기본 url(localhost:8080)을 사용합니다.");const Pe=Gt||"http://localhost:8080",Y=t=>`${Pe.endsWith("/")?Pe.slice(0,-1):Pe}/${t.startsWith("/")?t.slice(1):t}`,me={MEMBERS:Y("api/members"),MEMBER:Y("api/member"),ATTENDANCE:Y("api/attendance"),ATTENDANCE_WEEKLY:Y("api/attendance/weekly"),VACATION_REQUESTS:Y("api/vacationRequests"),DEPARTMENTS:Y("api/departments"),ANNOUNCEMENTS:Y("api/announcements"),USER:Y("api/user"),UPDATE_PROFILE:Y("api/updateProfile")};class qe extends Error{constructor(e,n){super(e),this.name="APIError",this.status=n}}function Bs(t){throw t.response?new qe(t.response.data.message||"서버 에러가 발생했습니다.",t.response.status):t.request?new qe("서버로부터 응답을 받지 못했습니다.",0):new qe("요청 설정 중 오류가 발생했습니다.",0)}const Ds=O.create({baseURL:Pe,headers:{"Content-Type":"application/json"}});async function fe({endpoint:t,method:e="get",params:n={},data:s=null,auth:r=!1}){try{const i={url:t,method:e,params:n,data:s};if(r){const c=localStorage.getItem("token");c&&(i.headers={...i.headers,Authorization:`Bearer ${c}`})}return(await Ds(i)).data}catch(i){throw Bs(i)}}async function Us(){try{return(await fe({endpoint:me.USER,method:"get",auth:!0})).data}catch(t){throw console.error("Failed to fetch user:",t),t}}async function Fs(){try{return(await fe({endpoint:me.ATTENDANCE_WEEKLY,method:"get",auth:!0})).data}catch(t){throw console.error("Failed to fetch user weekly attendances:",t),t}}async function Hs({employeeNumber:t,profileData:e}){try{return await fe({endpoint:me.UPDATE_PROFILE,method:"put",data:{employeeNumber:t,profileData:e},auth:!0})}catch(n){throw console.error("Failed to update profile:",n),n}}function bt(t){const[e,n]=t.split(":").map(Number);return e*60+n/60}function js({startTime:t,endTime:e}){const s=t?bt(t):0,r=e?bt(e):0,i=r-s<0?0:Math.floor((r-s)/60);return i>9?8:i}function qs(t){return t.reduce((e,n)=>e+js(n),0)}function Kt(t){return{date:t,startTime:null,endTime:null,status:null}}class Vs{constructor(){this.Menu=null,this.user=null,this.weeklyAttendances=null,this.isWorking=!1}setMenu(e){this.Menu=e}async getUser(){return this.user?this.user:(this.user=await Us(),this.user)}async getUserIsWorking(){const e=await this.getWeeklyAttendances(),n=new Date().toISOString().split("T")[0],{startTime:s,endTime:r}=e.filter(i=>i.date===n)[0]||Kt(n);return this.isWorking=!!(s&&!r),this.isWorking}async getWeeklyAttendances(){return this.weeklyAttendances?this.weeklyAttendances:(this.weeklyAttendances=await Fs(),this.weeklyAttendances)}}const q=new Vs;class V{constructor(e){this.$container=document.querySelector(e)}}async function Ws(){try{return(await fe({endpoint:me.ANNOUNCEMENTS,method:"get"})).data}catch(t){throw console.error("Failed to fetch announcements:",t),t}}async function zs(t){try{return(await fe({endpoint:`${me.ANNOUNCEMENTS}/${t}`,method:"get"})).data}catch(e){throw console.error("Failed to fetch announcement:",e),e}}async function Jt(t,e=!1){try{return(await fe({endpoint:`${me.MEMBER}/${t}`,method:"get",params:{isAdmin:e}})).data}catch(n){throw console.error("Failed to fetch user:",n),n}}class z{constructor({svg:e,options:n={}}){this.svg=e,this.color=n.color||ee.BLACK,this.size=n.size||"1rem"}html(){let e=this.svg;return e=e.replace(/width="\d+"/,`width="${this.size}"`),e=e.replace(/height="\d+"/,`height="${this.size}"`),e=e.replace(/stroke="[^"]*"/g,`stroke="${this.color}"`),e}}const Yt=`
  <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
  <g clip-path="url(#clip0_99_61115)">
  <path d="M7.9987 14.6668C11.6806 14.6668 14.6654 11.6821 14.6654 8.00016C14.6654 4.31826 11.6806 1.3335 7.9987 1.3335C4.3168 1.3335 1.33203 4.31826 1.33203 8.00016C1.33203 11.6821 4.3168 14.6668 7.9987 14.6668Z" stroke="#121212" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>
  <path d="M8 4V8L10.6667 9.33333" stroke="#121212" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>
  </g>
  <defs>
  <clipPath id="clip0_99_61115">
  <rect width="16" height="16" fill="white"/>
  </clipPath>
  </defs>
  </svg>  
`,Gs=`
  <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M2 5.99992L8 1.33325L14 5.99992V13.3333C14 13.6869 13.8595 14.026 13.6095 14.2761C13.3594 14.5261 13.0203 14.6666 12.6667 14.6666H3.33333C2.97971 14.6666 2.64057 14.5261 2.39052 14.2761C2.14048 14.026 2 13.6869 2 13.3333V5.99992Z" stroke="#121212" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>
  <path d="M6 14.6667V8H10V14.6667" stroke="#121212" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>
  </svg>
`,Ks=`
  <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
  <g clip-path="url(#clip0_99_61090)">
  <g clip-path="url(#clip1_99_61090)">
  <path d="M7.9987 14.6666C11.6806 14.6666 14.6654 11.6818 14.6654 7.99992C14.6654 4.31802 11.6806 1.33325 7.9987 1.33325C4.3168 1.33325 1.33203 4.31802 1.33203 7.99992C1.33203 11.6818 4.3168 14.6666 7.9987 14.6666Z" stroke="#121212" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>
  <path d="M5.33203 9.33325C5.33203 9.33325 6.33203 10.6666 7.9987 10.6666C9.66536 10.6666 10.6654 9.33325 10.6654 9.33325" stroke="#121212" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>
  <path d="M6 6H6.00667" stroke="#121212" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>
  <path d="M10 6H10.0067" stroke="#121212" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>
  </g>
  </g>
  <defs>
  <clipPath id="clip0_99_61090">
  <rect width="16" height="16" fill="white"/>
  </clipPath>
  <clipPath id="clip1_99_61090">
  <rect width="16" height="16" fill="white"/>
  </clipPath>
  </defs>
  </svg>
`,Js=`
  <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M13.3346 14V12.6667C13.3346 11.9594 13.0537 11.2811 12.5536 10.781C12.0535 10.281 11.3752 10 10.668 10H5.33464C4.62739 10 3.94911 10.281 3.44902 10.781C2.94892 11.2811 2.66797 11.9594 2.66797 12.6667V14" stroke="#121212" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>
  <path d="M7.9987 7.33333C9.47146 7.33333 10.6654 6.13943 10.6654 4.66667C10.6654 3.19391 9.47146 2 7.9987 2C6.52594 2 5.33203 3.19391 5.33203 4.66667C5.33203 6.13943 6.52594 7.33333 7.9987 7.33333Z" stroke="#121212" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>
  </svg>
`,Ys=`
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevrons-left"><polyline points="11 17 6 12 11 7"></polyline><polyline points="18 17 13 12 18 7"></polyline></svg>
`,Zt=`
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-left"><polyline points="15 18 9 12 15 6"></polyline></svg>
`,Zs=`
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline></svg>
`,Xs=`
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevrons-right"><polyline points="13 17 18 12 13 7"></polyline><polyline points="6 17 11 12 6 7"></polyline></svg>
`,Qs=`
  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
  <path d="M7.33333 12.6667C10.2789 12.6667 12.6667 10.2789 12.6667 7.33333C12.6667 4.38781 10.2789 2 7.33333 2C4.38781 2 2 4.38781 2 7.33333C2 10.2789 4.38781 12.6667 7.33333 12.6667Z" stroke="#8B95A1" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>
  <path d="M14.0001 14.0001L11.1001 11.1001" stroke="#8B95A1" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>
  </svg>
`,er=`
  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-edit-3">
  <path d="M12 20h9" fill="#8B95A1"></path>
  <path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"></path>
  </svg>
`,tr=`
  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-camera">
  <path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"></path>
  <circle cx="12" cy="13" r="4"></circle>
  </svg>
`,nr=`
  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-log-out">
  <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
  <polyline points="16 17 21 12 16 7"></polyline>
  <line x1="21" y1="12" x2="9" y2="12"></line>
  </svg>
`;class sr extends V{constructor(){super("#main"),this.announcement=null,this.Icon=new z({svg:Zt,options:{color:ee.DARKEST_GRAY,size:"1.4rem"}})}async setAnnouncement(){const e=window.location.pathname.split("/"),n=e[e.length-1];this.announcement=await zs(n)}async setMember(){this.member=await Jt(this.announcement.employeeNumber)}async render(){await this.setAnnouncement(),await this.setMember(),this.$container.innerHTML=`
      <div class="announcement-page-container">
        <header class="announcement-mobile-header">
          <button>${this.Icon.html()}</button>
        </header>
        <div class="wrapper">
          <h1 class="announcement-title">${this.announcement.title}</h1>
          <div class="announcement-department">
            ${this.member.name} | ${this.announcement.postedDate}
          </div>
        </div>
        <img
          class="announcement-image"
          src="..${this.announcement.imageUrl}"
          alt="Announcement Image"
        />
        <div class="wrapper">
          <p class="announcement-content">
            ${this.announcement.content.replaceAll(`
`,"<br />")}
          </p>
        </div>
      </div>
    `,document.querySelector(".announcement-mobile-header button").addEventListener("click",()=>{window.history.back()})}}const rr="/idle-intranet-service/assets/404-5M1Xnl0d.png";class ir extends V{constructor(){super("#main")}render(){this.$container.innerHTML=`
      <div class="not-found-container">
        <div class="wrapper">
          <img class="not-found-image" src=${rr} alt="404" />
          <h1 class="not-found-title">페이지를 찾을 수 없습니다</h1>
          <p>페이지가 존재하지 않거나, 사용할 수 없는 페이지입니다.</p>
          <p>입력하신 주소가 정확한지 다시 한 번 확인해주세요.</p>
          <a class="home-link" href="${k.HOME}">홈으로 이동</a>
        </div>
      </div>
    `}}class Se{constructor({title:e,subtitle:n,description:s,contents:r,desktopOnly:i}){this.title=e,this.subtitle=n||"",this.description=s||"",this.contents=r||"",this.desktopOnly=i||""}html(){return`
      <div class="page-title-container${this.desktopOnly&&" desktop-only"}">
        <div class="wrapper">
            ${this.subtitle&&`<div class="page-subtitle">${this.subtitle}</div>`}
            <h1 class="page-title">${this.title}</h1>
            ${this.description&&`<p class="page-title-description">${this.description}</p>`}
        </div>
      </div>
    `}}class De{constructor({url:e,size:n,border:s}){this.url=e,this.size=n||"default",this.border=s||"default"}html(){return`
      <div class='profile-img-container img-${this.size} img-bd-${this.border}'>
        <img src=${this.url} alt="프로필 사진" class="profile-img img-${this.size}"/>
      </div>
    `}}class Xt{constructor({icon:e}){this.icon=e}html(){return`
      <button class="icon-button">${this.icon.html()}</button>
    `}}class oe{constructor({type:e,variant:n,size:s,content:r,disabled:i}){this.type=e||"button",this.variant=n||"primary",this.size=s||"default",this.content=r||"",this.disabled=i||""}html(){return`
      <button class='button btn-${this.size} btn-${this.variant}' type='${this.type}' ${this.disabled?"disabled":""}>${this.content}</button>
    `}}class Qt{constructor({title:e,mainContent:n,buttonContent:s,onSubmit:r,id:i}){this.title=e||"",this.mainContent=n||"메인 컨텐츠",this.buttonContent=s||"Click me",this.submitButton=new oe({content:this.buttonContent}),this.closeButton=new oe({variant:"text",content:"취소"}),this.onSubmit=r,this.id=i}open(){this.$container.classList.add("active")}close(){this.$container.classList.remove("active")}updateButton(){this.submitButton=new oe({content:this.buttonContent})}setEventListeners(){const e=this.$container.querySelector(".submit-button button"),n=this.$container.querySelector(".close-button button"),s=this.$container.querySelector(".modal-bg");e.addEventListener("click",()=>this.onSubmit()),n.addEventListener("click",()=>this.close()),s.addEventListener("click",()=>this.close())}render(){this.$container=document.querySelector(`#${this.id}`),this.setEventListeners()}html(){return`
      <div class="modal-container" id=${this.id}>
        <div class="modal-bg"></div>
        <div class="modal-content">
          <div class="modal-header">
            <h2>${this.title}</h2>
          </div>
          <div class="modal-body">
            <div class="modal-main-content">${this.mainContent}</div>
            <div class="modal-footer">
              <div class="submit-button">${this.submitButton.html()}</div>
              <div class="close-button">${this.closeButton.html()}</div>
            </div>
          </div>
        </div>
      </div>
    `}}class be{constructor({placeholder:e,type:n,id:s,readOnly:r,name:i}){this.placeholder=e||"",this.type=n||"text",this.id=s,this.readOnly=r?"read-only":"default",this.name=i||this.id}html(){return`
      <input type='${this.type}' class='input input-${this.readOnly}' id='${this.id}' placeholder='${this.placeholder}'>
    `}}const vt=["Peanut","Callie","Abby","Lucy","Angel","Bella","Salem","Gizmo","Leo","Sasha","Cali","Boo","Smokey","Jasper","Coco","Annie","Max","Boots","Bear","Kiki"],or=24,ar=48,cr=13,lr=5,ur="https://api.dicebear.com/9.x/lorelei/svg";function Ae(t){return Math.floor(Math.random()*t)+1}function hr(){const t=vt[Math.floor(Math.random()*vt.length)],e=`${String(Ae(or)).padStart(2,"0")}`,n=`${String(Ae(ar)).padStart(2,"0")}`,s=`${String(Ae(cr)).padStart(2,"0")}`;let r="";return Math.random()<.3&&(r=`&glasses=variant${String(Ae(lr)).padStart(2,"0")}`),`${ur}?seed=${t}&eyes=variant${e}&hair=variant${n}&eyebrows=variant${s}${r}`}class dr{constructor({member:e}){M(this,"onFileInputChange",e=>{const n=e.target.files[0];if(n){const s=new FileReader;s.onload=r=>{this.$image.src=r.target.result},s.readAsDataURL(n)}});this.member=e,this.CameraIcon=new z({svg:tr,options:{color:"#fff"}}),this.Button=new Xt({icon:this.CameraIcon}),this.phoneNumberInput=new be({placeholder:"010-0000-0000",id:"phone_number_input",name:"phoneNumber"}),this.addressInput=new be({placeholder:"주소를 입력하세요",id:"address_input",name:"address"})}getFormData(){return{profileImage:this.$image.src,phoneNumber:this.$phoneNumberInput.value,address:this.$addressInput.value}}setRandomImage(){this.newImage=hr(),this.$image.src=this.newImage}setUserImage(){this.setFileInput(),this.$fileInput.click()}setFileInput(){this.$fileInput=document.createElement("input"),this.$fileInput.type="file",this.$fileInput.accept="image/*",this.$fileInput.addEventListener("change",e=>this.onFileInputChange(e))}setEventListeners(){this.$randomImageButton.addEventListener("click",()=>this.setRandomImage()),this.$selectImageButton.addEventListener("click",()=>{this.setUserImage()})}renderInitialData(){this.$image.src=this.member.profileImage,this.$phoneNumberInput.value=this.member.phoneNumber,this.$addressInput.value=this.member.address}render(){this.$image=document.querySelector(".edit-profile-form .profile-image"),this.$randomImageButton=document.querySelector(".edit-profile-form .random-profile-image-button"),this.$phoneNumberInput=document.querySelector("input#phone_number_input"),this.$addressInput=document.querySelector("input#address_input"),this.$selectImageButton=document.querySelector(".edit-image-button-container button"),this.renderInitialData(),this.setFileInput(),this.setEventListeners()}html(){return`<form class="edit-profile-form">
      <div class="edit-profile-image-container">
        <div class="profile-image-container">
          <img
            src="${this.member.profileImage}"
            alt="${this.member.name}"
            class="profile-image"
          />
        </div>
        <div class="edit-image-button-container">${this.Button.html()}</div>
      </div>
      <button class="random-profile-image-button">기본 이미지 설정</button>
      <div class="input-container">
        <label for="phone_number_input">전화번호</label>
        ${this.phoneNumberInput.html()}
      </div>
      <div class="input-container">
        <label for="address_input">주소</label>
        ${this.addressInput.html()}
      </div>
    </form>`}}class mr{constructor({container:e,member:n}){M(this,"onClickEditButton",()=>{this.EditProfileForm.renderInitialData(),this.Modal.open()});this.$container=e,this.store=q,this.member=n,this.icon=new z({svg:er,options:{color:ee.DARKEST_GRAY}}),this.EditButton=new Xt({icon:this.icon}),this.EditProfileForm=new dr({member:this.member})}updateMember({profileImage:e,phoneNumber:n,address:s}){this.member.profileImage=e,this.member.phoneNumber=n,this.member.address=s}async updateProfilePage({profileImage:e,phoneNumber:n,address:s}){const r=await this.store.getUser();if(this.member.employeeNumber===r.employeeNumber){const c=document.querySelector(".header-container .profile-img");c.src=e}const i=document.querySelector(".personal-info-section .profile-img");i.src=e,document.querySelectorAll(".personal-detail-subtitle").forEach(c=>{c.textContent==="전화번호"?c.nextElementSibling.innerText=n:c.textContent==="자택 주소"&&(c.nextElementSibling.innerText=s)})}async onSubmit(){const e=this.EditProfileForm.getFormData();if((await Hs({employeeNumber:this.member.employeeNumber,profileData:e})).status!=="OK"){console.log("프로필 수정을 실패했습니다.");return}this.updateProfilePage(e),this.updateMember(e),this.Modal.close()}setModal(){this.Modal=new Qt({title:"프로필 수정",mainContent:this.EditProfileForm.html(),buttonContent:"수정",onSubmit:this.onSubmit.bind(this),id:"edit-profile-modal"})}setEventListener(){this.$button=this.$container.querySelector(".edit-button-container button"),this.$button.addEventListener("click",this.onClickEditButton)}render(){this.setModal(),this.$container.innerHTML=`
      <div class="edit-button-container">${this.EditButton.html()}</div>
      <div class="edit-profile-modal-container">${this.Modal.html()}</div>
    `,this.EditProfileForm.render(),this.Modal.render(),this.setEventListener()}}class Ze{constructor({member:e,isWorking:n}){this.store=q,this.member=e,this.isWorking=n,this.user=null}async renderEditButton(){if(!await ce())return;this.user||(this.user=await this.store.getUser());const{isAdmin:n}=this.user,s=this.user.employeeNumber===this.member.employeeNumber;if(!n&&!s)return;const r=document.querySelector(".profile-info .edit-profile-button-container");this.editButton=new mr({container:r,member:this.member}),this.editButton.render()}renderAvatar(){const e=document.querySelector(".profile-info .avatar-container");e.innerHTML=this.Avatar.html()}renderUserInfo(){const e=document.querySelector(".personal-profile .profile-name"),n=document.querySelector(".personal-profile .profile-position");e.innerText=this.member.name,n.innerText=this.member.position}render(){this.Avatar=new De({url:this.member.profileImage,size:"large"}),this.renderAvatar(),this.renderUserInfo(),this.renderEditButton()}html(){return`
      <div class="profile-info">
        <div class="edit-profile-button-container"></div>
        <div class="avatar-container"></div>
        <div class="personal-profile">
          <div class="work-status-label${this.isWorking?" active":""}">
            ${this.isWorking?"근무중":"근무전"}
          </div>
          <h2 class="profile-name"></h2>
          <span class="profile-position"></span>
        </div>
      </div>
    `}}class fr{constructor({percent:e}){this.dashoffset=100-e}html(){return`
      <div class="progress-ring">
        <svg width="40" height="40" viewBox="0 0 40 40">
          <circle
            class="progress-bg"
            cx="20"
            cy="20"
            r="16"
            stroke-width="6"
          />
          <circle
            class="progress-ing"
            cx="20"
            cy="20"
            r="16"
            stroke-width="6"
            stroke-dashoffset="${this.dashoffset}"
          />
        </svg>
      </div>
    `}}var pr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var en={exports:{}};(function(t,e){(function(n,s){t.exports=s()})(pr,function(){var n=1e3,s=6e4,r=36e5,i="millisecond",o="second",c="minute",h="hour",u="day",l="week",p="month",I="quarter",$="year",g="date",v="Invalid Date",C=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,L=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,W={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(y){var f=["th","st","nd","rd"],d=y%100;return"["+y+(f[(d-20)%10]||f[d]||f[0])+"]"}},T=function(y,f,d){var w=String(y);return!w||w.length>=f?y:""+Array(f+1-w.length).join(d)+y},te={s:T,z:function(y){var f=-y.utcOffset(),d=Math.abs(f),w=Math.floor(d/60),m=d%60;return(f<=0?"+":"-")+T(w,2,"0")+":"+T(m,2,"0")},m:function y(f,d){if(f.date()<d.date())return-y(d,f);var w=12*(d.year()-f.year())+(d.month()-f.month()),m=f.clone().add(w,p),E=d-m<0,S=f.clone().add(w+(E?-1:1),p);return+(-(w+(d-m)/(E?m-S:S-m))||0)},a:function(y){return y<0?Math.ceil(y)||0:Math.floor(y)},p:function(y){return{M:p,y:$,w:l,d:u,D:g,h,m:c,s:o,ms:i,Q:I}[y]||String(y||"").toLowerCase().replace(/s$/,"")},u:function(y){return y===void 0}},ne="en",x={};x[ne]=W;var J="$isDayjsObject",le=function(y){return y instanceof Re||!(!y||!y[J])},$e=function y(f,d,w){var m;if(!f)return ne;if(typeof f=="string"){var E=f.toLowerCase();x[E]&&(m=E),d&&(x[E]=d,m=E);var S=f.split("-");if(!m&&S.length>1)return y(S[0])}else{var A=f.name;x[A]=f,m=A}return!w&&m&&(ne=m),m||!w&&ne},_=function(y,f){if(le(y))return y.clone();var d=typeof f=="object"?f:{};return d.date=y,d.args=arguments,new Re(d)},R=te;R.l=$e,R.i=le,R.w=function(y,f){return _(y,{locale:f.$L,utc:f.$u,x:f.$x,$offset:f.$offset})};var Re=function(){function y(d){this.$L=$e(d.locale,null,!0),this.parse(d),this.$x=this.$x||d.x||{},this[J]=!0}var f=y.prototype;return f.parse=function(d){this.$d=function(w){var m=w.date,E=w.utc;if(m===null)return new Date(NaN);if(R.u(m))return new Date;if(m instanceof Date)return new Date(m);if(typeof m=="string"&&!/Z$/i.test(m)){var S=m.match(C);if(S){var A=S[2]-1||0,P=(S[7]||"0").substring(0,3);return E?new Date(Date.UTC(S[1],A,S[3]||1,S[4]||0,S[5]||0,S[6]||0,P)):new Date(S[1],A,S[3]||1,S[4]||0,S[5]||0,S[6]||0,P)}}return new Date(m)}(d),this.init()},f.init=function(){var d=this.$d;this.$y=d.getFullYear(),this.$M=d.getMonth(),this.$D=d.getDate(),this.$W=d.getDay(),this.$H=d.getHours(),this.$m=d.getMinutes(),this.$s=d.getSeconds(),this.$ms=d.getMilliseconds()},f.$utils=function(){return R},f.isValid=function(){return this.$d.toString()!==v},f.isSame=function(d,w){var m=_(d);return this.startOf(w)<=m&&m<=this.endOf(w)},f.isAfter=function(d,w){return _(d)<this.startOf(w)},f.isBefore=function(d,w){return this.endOf(w)<_(d)},f.$g=function(d,w,m){return R.u(d)?this[w]:this.set(m,d)},f.unix=function(){return Math.floor(this.valueOf()/1e3)},f.valueOf=function(){return this.$d.getTime()},f.startOf=function(d,w){var m=this,E=!!R.u(w)||w,S=R.p(d),A=function(re,U){var Z=R.w(m.$u?Date.UTC(m.$y,U,re):new Date(m.$y,U,re),m);return E?Z:Z.endOf(u)},P=function(re,U){return R.w(m.toDate()[re].apply(m.toDate("s"),(E?[0,0,0,0]:[23,59,59,999]).slice(U)),m)},N=this.$W,B=this.$M,H=this.$D,ue="set"+(this.$u?"UTC":"");switch(S){case $:return E?A(1,0):A(31,11);case p:return E?A(1,B):A(0,B+1);case l:var se=this.$locale().weekStart||0,pe=(N<se?N+7:N)-se;return A(E?H-pe:H+(6-pe),B);case u:case g:return P(ue+"Hours",0);case h:return P(ue+"Minutes",1);case c:return P(ue+"Seconds",2);case o:return P(ue+"Milliseconds",3);default:return this.clone()}},f.endOf=function(d){return this.startOf(d,!1)},f.$set=function(d,w){var m,E=R.p(d),S="set"+(this.$u?"UTC":""),A=(m={},m[u]=S+"Date",m[g]=S+"Date",m[p]=S+"Month",m[$]=S+"FullYear",m[h]=S+"Hours",m[c]=S+"Minutes",m[o]=S+"Seconds",m[i]=S+"Milliseconds",m)[E],P=E===u?this.$D+(w-this.$W):w;if(E===p||E===$){var N=this.clone().set(g,1);N.$d[A](P),N.init(),this.$d=N.set(g,Math.min(this.$D,N.daysInMonth())).$d}else A&&this.$d[A](P);return this.init(),this},f.set=function(d,w){return this.clone().$set(d,w)},f.get=function(d){return this[R.p(d)]()},f.add=function(d,w){var m,E=this;d=Number(d);var S=R.p(w),A=function(B){var H=_(E);return R.w(H.date(H.date()+Math.round(B*d)),E)};if(S===p)return this.set(p,this.$M+d);if(S===$)return this.set($,this.$y+d);if(S===u)return A(1);if(S===l)return A(7);var P=(m={},m[c]=s,m[h]=r,m[o]=n,m)[S]||1,N=this.$d.getTime()+d*P;return R.w(N,this)},f.subtract=function(d,w){return this.add(-1*d,w)},f.format=function(d){var w=this,m=this.$locale();if(!this.isValid())return m.invalidDate||v;var E=d||"YYYY-MM-DDTHH:mm:ssZ",S=R.z(this),A=this.$H,P=this.$m,N=this.$M,B=m.weekdays,H=m.months,ue=m.meridiem,se=function(U,Z,ge,Te){return U&&(U[Z]||U(w,E))||ge[Z].slice(0,Te)},pe=function(U){return R.s(A%12||12,U,"0")},re=ue||function(U,Z,ge){var Te=U<12?"AM":"PM";return ge?Te.toLowerCase():Te};return E.replace(L,function(U,Z){return Z||function(ge){switch(ge){case"YY":return String(w.$y).slice(-2);case"YYYY":return R.s(w.$y,4,"0");case"M":return N+1;case"MM":return R.s(N+1,2,"0");case"MMM":return se(m.monthsShort,N,H,3);case"MMMM":return se(H,N);case"D":return w.$D;case"DD":return R.s(w.$D,2,"0");case"d":return String(w.$W);case"dd":return se(m.weekdaysMin,w.$W,B,2);case"ddd":return se(m.weekdaysShort,w.$W,B,3);case"dddd":return B[w.$W];case"H":return String(A);case"HH":return R.s(A,2,"0");case"h":return pe(1);case"hh":return pe(2);case"a":return re(A,P,!0);case"A":return re(A,P,!1);case"m":return String(P);case"mm":return R.s(P,2,"0");case"s":return String(w.$s);case"ss":return R.s(w.$s,2,"0");case"SSS":return R.s(w.$ms,3,"0");case"Z":return S}return null}(U)||S.replace(":","")})},f.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},f.diff=function(d,w,m){var E,S=this,A=R.p(w),P=_(d),N=(P.utcOffset()-this.utcOffset())*s,B=this-P,H=function(){return R.m(S,P)};switch(A){case $:E=H()/12;break;case p:E=H();break;case I:E=H()/3;break;case l:E=(B-N)/6048e5;break;case u:E=(B-N)/864e5;break;case h:E=B/r;break;case c:E=B/s;break;case o:E=B/n;break;default:E=B}return m?E:R.a(E)},f.daysInMonth=function(){return this.endOf(p).$D},f.$locale=function(){return x[this.$L]},f.locale=function(d,w){if(!d)return this.$L;var m=this.clone(),E=$e(d,w,!0);return E&&(m.$L=E),m},f.clone=function(){return R.w(this.$d,this)},f.toDate=function(){return new Date(this.valueOf())},f.toJSON=function(){return this.isValid()?this.toISOString():null},f.toISOString=function(){return this.$d.toISOString()},f.toString=function(){return this.$d.toUTCString()},y}(),it=Re.prototype;return _.prototype=it,[["$ms",i],["$s",o],["$m",c],["$H",h],["$W",u],["$M",p],["$y",$],["$D",g]].forEach(function(y){it[y[1]]=function(f){return this.$g(f,y[0],y[1])}}),_.extend=function(y,f){return y.$i||(y(f,Re,_),y.$i=!0),_},_.locale=$e,_.isDayjs=le,_.unix=function(y){return _(1e3*y)},_.en=x[ne],_.Ls=x,_.p={},_})})(en);var wr=en.exports;const Et=gr(wr);class yr{constructor(){this.$time=document.querySelector(".work-hour-time.current"),this.timeout=null,this.timer=null}updateTime(){const e=Et().format("HH:mm");this.$time&&(this.$time.setAttribute("datetime",e),this.$time.innerText=e)}getNextUpdateDelay(){const e=Et();return e.add(1,"minute").startOf("minute").diff(e)}cleanUp(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.timer&&(clearTimeout(this.timer),this.timer=null)}render(){if(this.updateTime(),!this.timer){const e=this.getNextUpdateDelay(),n=()=>{this.updateTime();const s=this.getNextUpdateDelay();this.timer=setTimeout(n,s)};this.timeout=setTimeout(n,e)}}}var br={VITE_SERVER_URL:"https://equal-rosemarie-deun-b63b6790.koyeb.app",VITE_BASE_URL:"/idle-intranet-service",BASE_URL:"/idle-intranet-service/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_SERVER_URL:vr}=br,tn=vr,Er=async t=>{try{const e=await fetch(`${tn}/api/addAttendance`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw new Error(`Failed to add attendance data: ${e.statusText}`);return await e.json()}catch(e){throw console.error("Error adding attendance data:",e),e}},Sr=async t=>{try{const e=await fetch(`${tn}/api/updateAttendance`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw new Error(`Failed to update attendance data: ${e.statusText}`);return await e.json()}catch(e){throw console.error("Error updating attendance data:",e),e}};class $r{constructor({personalInfo:e}){this.store=q,this.weeklyAttendances=null,this.weeklyWorkHours=null,this.Icon=new z({svg:Yt,options:{color:ee.DARK_GRAY}}),this.personalInfo=e,this.modal=new Qt({onSubmit:()=>{},id:"work-toggle-modal"})}renderWeeklyWorkHours(){const e=document.querySelector(".weekly-work-hours-time");e&&(e.innerHTML=`${this.weeklyWorkHours}시간`)}renderProgressRing(){const e=document.querySelector(".progress-ring-container"),n=this.weeklyWorkHours/40*100;this.ProgressRing=new fr({percent:n}),e&&(e.innerHTML=this.ProgressRing.html())}setModal({title:e,mainContent:n,buttonContent:s,onSubmit:r}){const i=document.body.querySelector(".work-modal-wrapper");this.modal.title=e,this.modal.mainContent=n,this.modal.buttonContent=s,this.modal.updateButton(),this.modal.onSubmit=r,i.innerHTML=this.modal.html()}async renderDailyWork(){const e=new Date().toISOString().split("T")[0];let n=this.weeklyAttendances.find(h=>h.date===e);n||(n=Kt(e),this.weeklyAttendances.push(n));let{startTime:s,endTime:r}=n;this.Button=new oe({variant:s&&!r?"primary":"secondary",size:"large",content:s&&!r?"근무 종료":"근무 시작",disabled:!!r});const i=document.querySelector(".work-hours-button-container"),o=document.querySelector(".work-hour-time.start"),c=document.querySelector(".work-hour-time.end");i&&(i.innerHTML=this.Button.html()),this.CurrentTime=new yr,this.CurrentTime.cleanUp(),this.CurrentTime.render(),s&&(o.innerText=s,o.setAttribute("datetime",s)),r&&(c.innerText=r,c.setAttribute("datetime",r)),i.querySelector("button").addEventListener("click",async()=>{const h=document.body.querySelector(".work-hour-time.current").innerHTML;s&&!r?this.setModal({title:`현재 시각: ${h}`,mainContent:"근무를 종료하시겠습니까?",buttonContent:"근무 종료",onSubmit:async()=>{r=h,c.innerText=r||"-",c.setAttribute("datetime",r);const u={employeeNumber:this.user.employeeNumber,date:e,startTime:s,endTime:r,status:"정상 근무"};await Sr(u),n.endTime=r,await this.renderDailyWork(),this.personalInfo.updateIsWorking()}}):s||this.setModal({title:`현재 시각: ${h}`,mainContent:"근무를 시작하시겠습니까?",buttonContent:"근무 시작",onSubmit:async()=>{s=h,o.innerText=s||"-",o.setAttribute("datetime",s);const u={employeeNumber:this.user.employeeNumber,date:e,startTime:s,endTime:null,status:"정상 근무"};await Er(u),n.startTime=s,await this.renderDailyWork(),this.personalInfo.updateIsWorking()}}),this.modal.render(),this.modal.open()})}async render(){this.weeklyAttendances||(this.user=await this.store.getUser(),this.weeklyAttendances=await this.store.getWeeklyAttendances(),this.weeklyWorkHours=qs(this.weeklyAttendances)),this.renderWeeklyWorkHours(),this.renderProgressRing(),this.renderDailyWork()}html(){return`
      <div class="work-info-container">
        <div class="work-info weekly-work-hours">
          ${this.Icon.html()}
          <div class="weekly-work-hours-title">이번 주 근무 시간</div>
          <strong class="weekly-work-hours-time"></strong>
          <div class="progress-ring-container"></div>
        </div>
        <div class="work-info daily-work-hours">
          <div class="work-modal-wrapper"></div>
          <ul class="work-hours-list">
            <li>
              <div class="work-hour-title">현재 시각</div>
              <time class="work-hour-time current" datetime=""></time>
            </li>
            <li>
              <div class="work-hour-title">근무 시작</div>
              <time class="work-hour-time start" datetime="">-</time>
            </li>
            <li>
              <div class="work-hour-title">근무 종료</div>
              <time class="work-hour-time end" datetime="">-</time>
            </li>
          </ul>
          <div class="work-hours-button-container" type="button"></div>
        </div>
      </div>
    `}}class nn{constructor({member:e}){this.isWorking=!1,this.member=e,this.store=q,this.updateIsWorking(),this.ProfileInfo=new Ze({member:e,isWorking:this.isWorking}),this.WorkInfo=new $r({personalInfo:this})}async updateIsWorking(){this.isWorking=await this.store.getUserIsWorking(),this.ProfileInfo=new Ze({member:this.member,isWorking:this.isWorking}),document.body.querySelector(".wrapper.personal-infos").innerHTML=`${this.ProfileInfo.html()}${this.WorkInfo.html()}`,this.render()}render(){this.ProfileInfo.render(),this.WorkInfo.render()}html(){return`
    <section class="personal-info-section">
      <div class="wrapper personal-infos">
        ${this.ProfileInfo.html()}${this.WorkInfo.html()}
      </div>
    </section>`}}const st="data:image/svg+xml,%3csvg%20width='30'%20height='30'%20viewBox='0%200%2030%2030'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M9.23182%2010.5105C8.80394%2010.3271%208.3084%2010.5253%208.12501%2010.9532C7.94163%2011.3811%208.13985%2011.8767%208.56773%2012.0601L13.9573%2014.3699V19.7145C13.9573%2020.18%2014.3347%2020.5574%2014.8003%2020.5574C15.2658%2020.5574%2015.6432%2020.18%2015.6432%2019.7145V14.3699L21.0327%2012.0601C21.4607%2011.8767%2021.6588%2011.3811%2021.4756%2010.9532C21.2922%2010.5253%2020.7965%2010.3271%2020.3687%2010.5105L14.8003%2012.897L9.23182%2010.5105Z'%20fill='url(%23paint0_linear_174_41458)'/%3e%3cpath%20d='M16.6165%204.33711C15.4479%203.88763%2014.154%203.88763%2012.9854%204.33711L4.621%207.55419C3.6444%207.92981%203%208.86807%203%209.91441V21.0856C3%2022.1319%203.6444%2023.0702%204.621%2023.4458L12.9854%2026.6629C14.154%2027.1124%2015.4479%2027.1124%2016.6165%2026.6629L24.981%2023.4458C25.9576%2023.0702%2026.6019%2022.1319%2026.6019%2021.0856V9.91441C26.6019%208.86807%2025.9576%207.92981%2024.981%207.55419L16.6165%204.33711ZM13.5906%205.9106C14.3697%205.61094%2015.2322%205.61094%2016.0113%205.9106L24.3757%209.12767C24.7013%209.25288%2024.9161%209.56564%2024.9161%209.91441V21.0856C24.9161%2021.4342%2024.7013%2021.7471%2024.3757%2021.8722L16.0113%2025.0893C15.2322%2025.3891%2014.3697%2025.3891%2013.5906%2025.0893L5.22618%2021.8722C4.90064%2021.7471%204.68585%2021.4342%204.68585%2021.0856V9.91441C4.68585%209.56564%204.90064%209.25288%205.22618%209.12767L13.5906%205.9106Z'%20fill='url(%23paint1_linear_174_41458)'/%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_174_41458'%20x1='14.8003'%20y1='10.4421'%20x2='14.8003'%20y2='20.5574'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23499BF5'/%3e%3cstop%20offset='1'%20stop-color='%232B5A8F'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint1_linear_174_41458'%20x1='14.801'%20y1='4'%20x2='14.801'%20y2='27'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23499BF5'/%3e%3cstop%20offset='1'%20stop-color='%232B5A8F'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e";class Rr{constructor(e){this.item=e}html(){return`
      <li class="gallery-item">
        <a href="${k.ANNOUNCEMENTS}/${this.item.announcementId}">
          <div class="gallery-image-box">
            <img src="./${this.item.imageUrl}" alt="${this.item.title}" />
          </div>
          <div class="gallery-content-box">
            <h2>${this.item.title}</h2>
            <p class="gallery-content">${this.item.content}</p>
          </div>
        </a>
      </li>
    `}}class Tr{constructor(e){this.item=e,this.author=null}async renderAuthor(){this.author||(this.author=await Jt(this.item.employeeNumber));const e=document.querySelector(`#announcement-${this.item.announcementId}`),n=e.querySelector(".author-image-container"),s=e.querySelector(".announcement-author-name");n.innerHTML=new De({url:this.author.profileImage}).html(),s.innerText=this.author.name}render(){this.renderAuthor()}html(){const e=this.item.postedDate.split("-").slice(1).join("/");return`
      <li id="announcement-${this.item.announcementId}">
        <div class="announcement-author">
          <div class="author-image-container"></div>
          <div class="announcement-info">
            <div class="announcement-author-name"></div>
            <div class="announcement-time">${e}</div>
          </div>
        </div>
        <div class="announcement-content">
          <p>${this.item.content.replaceAll(`
`,"<br />")}</p>
        </div>
      </li>
    `}}class Ar extends V{constructor(){super("#main"),this.Title=new Se({title:"작은 큐브가 만드는 큰 변화, Cube.IT",subtitle:"VISION & MISSION",description:"Cube.IT은 작은 아이디어로 큰 변화를 만들어갑니다. 혁신적인 큐브의 힘을 경험해 보세요."}),this.store=q}async setAnnouncements(){this.announcements=await Ws(),this.galleryAnnouncements=this.announcements.filter(e=>e.imageUrl),this.textAnnouncements=this.announcements.filter(e=>!e.imageUrl)}async renderGalleryAnnouncements(){const e=document.querySelector(".home-container .gallery");this.announcements||await this.setAnnouncements(),e.innerHTML=this.galleryAnnouncements.map(n=>new Rr(n).html()).join("")}async renderTextAnnouncements(){const e=document.querySelector(".home-container .announcement-contents");this.announcements||await this.setAnnouncements();const n=[];e.innerHTML=this.textAnnouncements.map(s=>{const r=new Tr(s);return n.push(r),r.html()}).join(""),n.forEach(s=>s.render())}async renderPersonalInfo(){if(!await ce())return;this.user||(this.user=await this.store.getUser()),this.PersonalInfo=new nn({member:this.user});const n=document.querySelector(".home-container .personal-info-container");n.innerHTML=this.PersonalInfo.html(),this.PersonalInfo.render()}render(){this.$container.innerHTML=`
      <div class="home-container">
        <header class="home-mobile-header mobile-only">
          <div class="logo-container">
            <div class="logo">
              <img src=${st} alt="" />
            </div>
            <strong class="logo-title">Cube.IT</strong>
          </div>
          <ul class="menu-list"></ul>
        </header>

        ${this.Title.html()}

        <div class="my-info desktop-only">
          <div class="wrapper">
            <h2 class="home-subtitle">내 정보</h2>
          </div>
          <div class="personal-info-container"></div>
        </div>

        <section class="gallery-section">
          <div class="wrapper">
            <h2 class="home-subtitle">공지사항 갤러리</h2>
            <ul class="gallery"></ul>
          </div>
        </section>

        <section class="announcement-container">
          <div class="wrapper">
            <h2 class="home-subtitle">주요 소식</h2>
            <ul class="announcement-contents"></ul>
          </div>
        </section>
      </div>
    `,this.renderPersonalInfo(),this.renderTextAnnouncements(),this.renderGalleryAnnouncements(),this.renderTextAnnouncements()}}class kr{constructor({headers:e,contents:n}){this.headers=e,this.contents=n,this.width=Math.floor(100/e.length)}html(){return`
      <div class="table-wrapper">
        <div class="table-container">
          <table>
            <thead>
              <tr>
                ${this.headers.map(e=>`<th style="width: ${this.width}%;">${e}</th>`).join("")}
              </tr>
            </thead>
            <tbody>
              ${this.contents.map(e=>`<tr>${e.map(n=>`<td>${n}</td>`).join("")}</tr>`).join("")}
            </tbody>
          </table>
        </div>
      </div>
    `}}class Ir{constructor({currentPage:e,maxPage:n,onPageChange:s}){M(this,"handleFastLeft",()=>this.updatePage(1));M(this,"handleFastRight",()=>this.updatePage(this.maxPage));M(this,"handleLeft",()=>this.updatePage(this.currentPage===1?1:this.currentPage-1));M(this,"handleRight",()=>this.updatePage(this.currentPage===this.maxPage?this.maxPage:this.currentPage+1));M(this,"handlePageClick",e=>this.updatePage(e));M(this,"getCurrentPage",()=>this.currentPage);this.currentPage=e,this.maxPage=n,this.onPageChange=s,this.pages=[],this.chevrons_left=new z({svg:Ys,options:{size:"18px"}}),this.chevron_left=new z({svg:Zt,options:{size:"18px"}}),this.chevron_right=new z({svg:Zs,options:{size:"18px"}}),this.chevrons_right=new z({svg:Xs,options:{size:"18px"}}),this.calculatePages()}calculatePages(){this.pages=[],((n,s,r)=>{s<=7?r.push(...Array.from({length:s},(i,o)=>o+1)):n<5?r.push(...Array.from({length:5},(i,o)=>o+1),"...",s):n>=5&&n<=s-4?r.push(1,"...",n-1,n,n+1,"...",s):r.push(1,"...",...Array.from({length:5},(i,o)=>o+s-4))})(this.currentPage,this.maxPage,this.pages)}updatePage(e){this.currentPage=e,this.calculatePages(),this.onPageChange(this.currentPage),this.updateButtonStates(),this.render()}updateButtonStates(){document.querySelector(".fast-left").disabled=this.currentPage===1,document.querySelector(".left").disabled=this.currentPage===1,document.querySelector(".fast-right").disabled=this.currentPage===this.maxPage,document.querySelector(".right").disabled=this.currentPage===this.maxPage}render(){document.querySelector(".pagination-container").innerHTML=this.html(),this.addEventListeners(),this.updateButtonStates()}addEventListeners(){document.querySelectorAll(".pagination-container button").forEach((e,n)=>{n===0?e.addEventListener("click",this.handleFastLeft):n===1?e.addEventListener("click",this.handleLeft):n===this.pages.length+2?e.addEventListener("click",this.handleRight):n===this.pages.length+3?e.addEventListener("click",this.handleFastRight):e.addEventListener("click",()=>this.handlePageClick(this.pages[n-2]))})}html(){return`
      <div class='pagination-container'>
        <button class='fast-left'>${this.chevrons_left.html()}</button>
        <button class='left'>${this.chevron_left.html()}</button>
        ${this.pages.map(e=>e==="..."?`<button class='omit' disabled>${e}</button>`:`<button class='page ${e===this.currentPage?"active":""}'>${e}</button>`).join("")}
        <button class='right'>${this.chevron_right.html()}</button>
        <button class='fast-right'>${this.chevrons_right.html()}</button>
      </div>
    `}}var Mr={VITE_SERVER_URL:"https://equal-rosemarie-deun-b63b6790.koyeb.app",VITE_BASE_URL:"/idle-intranet-service",BASE_URL:"/idle-intranet-service/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_SERVER_URL:Pr}=Mr,rt=Pr,Or=async(t,e)=>{try{const n=await fetch(`${rt}/api/members/${t}?max=${e}`,{method:"GET"});if(!n.ok)throw new Error(`Failed to load data: ${n.statusText}`);const s=await n.json();return[s.data,s.total]}catch(n){throw console.error("Error loading page:",n),n}},_r=async(t,e,n)=>{try{const s=encodeURIComponent(t),r=await fetch(`${rt}/api/members/search/${s}?max=${e}&page=${n}`,{method:"GET"});if(!r.ok){const o=await r.json();throw new Error(`Failed to search members: ${o.error}`)}const i=await r.json();return[i.data,i.total]}catch(s){throw console.error("Error searching members:",s.message),s}},Nr=async(t,e=!1,n=!1)=>{try{const s=await fetch(`${rt}/api/member/${t}?isAdmin=${e}&isOwner=${n}`,{method:"GET"});if(!s.ok)throw new Error(`Failed to load data: ${s.statusText}`);return(await s.json()).data}catch(s){throw console.error("Error loading member data:",s),s}},Cr="/idle-intranet-service/assets/no-result-CZkYnNXR.png";class Lr extends V{constructor(){super("#main");M(this,"handlePageChange",n=>{this.currentPage=n;const s=document.getElementById("search-input").value;s?this.searchMember(s):this.getMember()});M(this,"handleFormSubmit",n=>{n.preventDefault(),this.currentPage=1;const s=document.getElementById("search-input").value;this.searchMember(s)});M(this,"searchMember",n=>{n===""?this.getMember():_r(n,this.maxProfile,this.currentPage).then(([s,r])=>{this.contents=s,this.total=r,this.renderPagination(),this.renderTable(),this.updateTotalCount()}).catch(s=>{console.error("Failed to search members:",s.message)})});M(this,"getMember",()=>{Or(this.currentPage,this.maxProfile).then(([n,s])=>{this.contents=n,this.total=s,this.renderPagination(),this.renderTable(),this.updateTotalCount()}).catch(n=>{console.error("Failed to load page data:",n)})});M(this,"resetSearch",()=>{this.currentPage=1,document.getElementById("search-input").value="",this.getMember()});M(this,"updateTotalCount",()=>{document.querySelectorAll(".members-container em").forEach(n=>{n.innerText=this.total})});M(this,"renderPagination",()=>{this.pagination=new Ir({currentPage:this.currentPage,maxPage:Math.ceil(this.total/this.maxProfile),onPageChange:this.handlePageChange}),window.location.pathname===k.MEMBERS&&(document.body.querySelector(".pagination-container").innerHTML=this.pagination.html(),this.pagination.render())});M(this,"renderTable",()=>{const n=this.contents.map(s=>(this.Avatar=new De({url:s.profileImage}),[this.createMemberLink(`${this.Avatar.html()}<div>${s.name}</div>`,s.employeeNumber),this.createMemberLink(s.position,s.employeeNumber),this.createMemberLink(s.departmentName,s.employeeNumber),this.createMemberLink(s.email,s.employeeNumber),this.createMemberLink(s.phoneNumber,s.employeeNumber)]));if(this.ids=this.contents.map(s=>[s.employeeNumber]),this.table=new kr({headers:["이름","직무","조직","이메일","연락처"],contents:n}),this.total===0){const s=document.getElementById("search-input").value;document.getElementById("table-container").innerHTML=`
        <div class="no-result-container">
          <img
            src="${Cr}"
            alt="검색 결과 없음"
            class="no-result-image"
          />
          <p><strong>'${s}'</strong>에 대한 검색 결과가 없습니다.</p>
          <p>다른 검색어를 입력해 주세요.</p>
        </div>
      `}else if(window.location.pathname===k.MEMBERS){const s=document.getElementById("table-container");s.innerHTML=this.table.html()}});this.Title=new Se({title:D.MEMBERS}),this.magnifyGlass=new z({svg:Qs,options:{size:"18px",color:ee.DARK_GRAY}}),this.input=new be({placeholder:"이름을 입력하세요",id:"search-input"}),this.currentPage=1,this.maxProfile=7,this.contents=[],this.total=0,this.ids=[],ce().then(n=>{n&&this.getMember()})}createMemberLink(n,s){return`<a href="${k.MEMBERS}/${s}">${n}</a>`}render(){this.$container.innerHTML=`
      <div class='members-container'>
        <div class='members-mobile-only'>
          ${this.Title.html()}
          <span>총 <em>${this.total}</em> 명</span>
        </div>
        <div class='members-content-container'>
          <div class='members-search-header'>
            <span>총 <em>${this.total}</em> 명</span>
            <form id="search-form" class='members-input-container'>
              ${this.input.html()}
              <button type="submit" class='submit-button'>
                ${this.magnifyGlass.html()}
              </button>
            </form>
          </div>
          <div id='table-container'>
            ${this.table?this.table.html():""}
          </div>
        </div>
        <div class='pagination-container'>
          ${this.pagination?this.pagination.html():""}
        </div>
      </div>
    `,this.pagination&&this.pagination.render(),document.querySelector(".submit-button").addEventListener("click",this.handleFormSubmit),this.resetSearch()}}class ke{constructor({title:e,info:n}){this.title=e,this.info=n}html(){return`
      <li>
        <div class="wrapper">
          <h2 class="personal-detail-title">${this.title}</h2>
          <ul class="personal-detail-list">
            ${this.info.length?this.info.map(e=>`
                        <li>
                          <h3 class="personal-detail-subtitle">${e.subtitle}</h3>
                          <span class="personal-detail-info">${e.contents}</span>
                        </li>
                      `).join(""):'<li class="admin-owner-only">본인 혹은 관리자만 열람할 수 있습니다.</li>'}
          </ul>
        </div>
      </li>
    `}}const xr=(t,e)=>{const n=i=>{const o=i.split(" ~ ")[1];return o==="현재"?new Date:new Date(o)},s=n(t.period);return n(e.period)-s};class sn{constructor(){this.store=q,this.personalInfo=[],this.privateInfo=[],this.employmentInfo=[],this.educationAndCareerInfo=[]}setInfoArray(){if(this.personalInfo=[{subtitle:"조직",contents:this.member.departmentName},{subtitle:"직책",contents:this.member.role}],this.privateInfo=[{subtitle:"이메일",contents:this.member.email},{subtitle:"전화번호",contents:this.member.phoneNumber}],this.isAdmin||this.isOwner){this.privateInfo.unshift({subtitle:"생년월일",contents:this.member.birthDate}),this.privateInfo.push({subtitle:"자택 주소",contents:this.member.address}),this.employmentInfo=[{subtitle:"입사일",contents:this.member.hireDate},{subtitle:"근무유형",contents:this.member.employmentType}];const e=JSON.parse(this.member.career);e.sort(xr),this.educationAndCareerInfo=[{subtitle:"학력",contents:this.member.education},{subtitle:"경력",contents:`<ul class="career-list">
            ${e.length?e.map(n=>`
                        <li>
                          <strong class="career-company">${n.companyName}</strong>
                          <div class="career-period">(${n.period})</div>
                          <div class="career-role">${n.role}</div>
                        </li>
                      `).join(""):"<li>없음</li>"}
          </ul>`}]}this.isAdmin&&this.member.salary&&this.employmentInfo.push({subtitle:"연봉",contents:this.member.salary.toLocaleString("en-US")})}renderPersonalDetails(){const e=document.querySelector(".personal-details-list");e.innerHTML=`
      ${new ke({title:"인사정보",info:this.personalInfo}).html()}
      ${new ke({title:"개인정보",info:this.privateInfo}).html()}
      ${new ke({title:"고용정보",info:this.employmentInfo}).html()}
      ${new ke({title:"학력/경력",info:this.educationAndCareerInfo}).html()}
    `}async render(e){this.user=await this.store.getUser(),this.member=e,this.isAdmin=!!this.user.isAdmin,this.isOwner=this.member.employeeNumber===this.user.employeeNumber,this.setInfoArray(),this.renderPersonalDetails()}html(){return`
      <section class="personal-details-section">
        <ul class="personal-details-list"></ul>
      </section>
    `}}class Br extends V{constructor(){super("#main"),this.store=q,this.Title=new Se({title:D.PROFILE,desktopOnly:!0}),this.Button=new oe({variant:"tertiary",content:"로그아웃"})}async setUserInfo(){await ce()&&(this.user||(this.user=await this.store.getUser()),this.PersonalDetails=new sn,this.PersonalInfo=new nn({member:this.user}))}async render(){await this.setUserInfo(),this.$container.innerHTML=`
      ${this.Title.html()}
      ${this.PersonalInfo.html()}
      ${this.PersonalDetails.html()}
      <div class='logout-btn-wrapper-inprofile'>
        ${this.Button.html()}
      </div>`,this.PersonalDetails.render(this.user),this.PersonalInfo.render(),document.querySelector(".logout-btn-wrapper-inprofile button").addEventListener("click",$t)}}class Dr extends V{constructor(){super("#main"),this.Title=new Se({title:D.WORK_MANAGE})}render(){this.$container.innerHTML=`
      ${this.Title.html()}
    `}}class Ur{constructor(){M(this,"handleForm",e=>{e.preventDefault(),this.email=document.getElementById("signin_email").value,this.password=document.getElementById("signin_password").value,this.isValidEmail=this.validateEmail(),this.isValidPassword=this.validatePassword(),this.isValidEmail?this.isValidPassword?ln(this.email,this.password,this.showErrorMessage):this.showErrorMessage("비밀번호는 8자 이상, 30자 이하로 작성해 주시기 바랍니다."):this.showErrorMessage("이메일 형식이 올바른지 확인해 주시기 바랍니다."),document.querySelector(".button.btn-primary").removeAttribute("disabled")});M(this,"handleInput",()=>{const e=document.getElementById("signin_email").value,n=document.getElementById("signin_password").value,s=document.querySelector(".button.btn-primary");e.length>0&&n.length>0?s.removeAttribute("disabled"):s.setAttribute("disabled",!0)});M(this,"showErrorMessage",e=>{const n=document.querySelector(".alert-message");n.textContent=e,n.classList.add("show"),this.clearInputs()});M(this,"clearInputs",()=>{document.getElementById("signin_email").value="",document.getElementById("signin_password").value=""});this.EmailInput=new be({id:"signin_email",type:"email",placeholder:"이메일",required:!0}),this.PasswordInput=new be({id:"signin_password",type:"password",placeholder:"비밀번호",required:!0}),this.Button=new oe({type:"submit",variant:"primary",content:"로그인",disabled:!0}),this.isValidEmail=!1,this.isValidPassword=!1}validateEmail(){return/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(String(this.email).toLowerCase())}validatePassword(){return this.password.length>=8&&this.password.length<=30}html(){return`
      <form id="signin_form" class="signin-form">
        ${this.EmailInput.html()}
        ${this.PasswordInput.html()}
        <p class="alert-message"></p>
        ${this.Button.html()}
      </form>
    `}setEventListeners(){const e=document.getElementById("signin_email"),n=document.getElementById("signin_password"),s=document.querySelector(".button.btn-primary");e.addEventListener("input",this.handleInput),n.addEventListener("input",this.handleInput),s.addEventListener("click",this.handleForm)}}const Fr="/idle-intranet-service/assets/dashboard-CkOnVST7.png";class Hr extends V{constructor(){super("#app"),this.Form=new Ur}render(){this.$container.innerHTML=`
      <div class="signin-container">
        <header>
          <div class="logo-container">
            <div class="logo">
              <img src="${st}" alt="" />
            </div>
            <h1 class="logo-title">Cube.IT</h1>
          </div>
        </header>
        <div class="desktop-only signin-bg">
          <img src="${Fr}" alt="로그인 페이지 대시보드" />
        </div>
        <section class="signin-section">
          <div class="signin-wrapper">
            <h2 class="signin-title">
              <div class="hand-icon">👋</div>
              <p class="title-message">큐브잇 인트라넷에 오신 걸 환영합니다!</p>
            </h2>
            <div class='form-wrapper'>
              ${this.Form.html()}
            </div>
            <p class="password-help-message">비밀번호를 잊어버리셨다면, IT 지원팀으로 문의해 주세요.</p>
            <p class="password-help-message">IT 지원팀 연락처: cubeit.it@cubeit.com</p>
          </div>
        </section>
      </div>
    `,this.Form.setEventListeners()}}class jr extends V{constructor(){super("#main"),this.store=q,this.Title=new Se({title:D.MEMBERS,desktopOnly:!0}),this.store=q}async setUserInfo(){if(!await ce())return;this.user||(this.user=await this.store.getUser());const n=window.location.pathname.split("/");this.employeeNumber=n[n.length-1];const s=this.user.employeeNumber===this.employeeNumber;try{this.member=await Nr(this.employeeNumber,this.user.isAdmin,s)}catch(r){console.error("Failed to fetch user data:",r)}this.PersonalDetails=new sn,this.ProfileInfo=new Ze({member:this.member,isWorking:this.user.employeeNumber===this.member.employeeNumber?await this.store.getUserIsWorking():!0})}async render(){await this.setUserInfo(),this.$container.innerHTML=`
      ${this.Title.html()}
      <section class="personal-info-section">
        <div class="wrapper">
          ${this.ProfileInfo.html()}
        </div>
      </section>
      ${this.PersonalDetails.html()}
    `,this.PersonalDetails.render(this.member),this.ProfileInfo.render()}}const qr=(t,e)=>{if(!e)return null;let n=null;return Object.keys(e).forEach(s=>{if(n)return;const r=e[s],i=[],o=s.replace(/:[^\s/]+/g,u=>(i.push(u.slice(1)),"([^\\/]+)")),c=new RegExp(`^${o}$`);t.match(c)&&(n=r)}),n};class Vr{constructor(){M(this,"handleNavigatePage",e=>{e.preventDefault();const n=e.target.closest("a");n&&n.href&&(window.history.pushState(null,null,n.href),this.route(),this.activeNavBar())});this.title="CubeIT ",this.currentPage=null}setRoutes(){this.routes={[k.HOME]:{title:D.HOME,page:new Ar},[k.ANNOUNCEMENT]:{title:D.ANNOUNCEMENT,page:new sr},[k.MEMBER]:{title:D.MEMBERS,page:new jr},[k.MEMBERS]:{title:D.MEMBERS,page:new Lr},[k.PROFILE]:{title:D.PROFILE,page:new Br},[k.WORK_MANAGE]:{title:D.WORK_MANAGE,page:new Dr},[k.SIGNIN]:{title:D.SIGNIN,page:new Hr}}}activeNavBar(){const e=window.location.pathname;this.Menu.active=e}route(){const e=window.location.pathname;ce().then(s=>{!s&&e!==k.SIGNIN&&(window.history.pushState(null,null,k.SIGNIN),this.routes[k.SIGNIN].page.render())});const n=qr(e,this.routes);this.currentPage&&this.currentPage.cleanUp&&this.currentPage.cleanUp(),n&&n.page?(this.currentPage=n.page,document.title=this.title+n.title,this.currentPage.render()):this.notFoundPage.render(),this.activeNavBar()}init(){window.addEventListener("popstate",()=>this.route()),document.body.addEventListener("click",this.handleNavigatePage),this.Menu=q.Menu,this.notFoundPage=new ir,this.setRoutes(),this.route()}}class Wr extends V{constructor(){super(".header-container"),this.store=q,this.icon=new z({svg:nr,options:{color:ee.DARKEST_GRAY,size:"14px"}}),this.Button=new oe({variant:"ghost",content:`${this.icon.html()} 로그아웃`,size:"small"})}async renderAvatar(){if(!await ce())return;this.user||(this.user=await this.store.getUser(),this.Avatar=new De({url:this.user.profileImage}));const n=document.querySelector("header .avatar-container");n.innerHTML=this.Avatar.html()}render(){this.$container.innerHTML=`
      <div class="wrapper header-items">
        <div class="avatar-container"></div>
        <div class="logout-btn-wrapper">${this.Button.html()}</div>
      </div>
    `,document.querySelector(".logout-btn-wrapper button").addEventListener("click",$t),this.renderAvatar()}}class zr extends V{constructor(){super(".navbar")}render(){this.$container.innerHTML=`
      <div class="logo-container desktop-only">
        <div class="logo">
          <img src=${st} alt="" />
        </div>
        <strong class="logo-title">Cube.IT</strong>
      </div>
      <ul class="menu-list"></ul>
    `}}const Gr=[{path:k.HOME,title:D.HOME,icon:Gs},{path:k.MEMBERS,title:D.MEMBERS,icon:Ks},{path:k.PROFILE,title:D.PROFILE,icon:Js},{path:k.WORK_MANAGE,title:D.WORK_MANAGE,icon:Yt}];class Kr extends V{constructor(){super(".menu-list"),this.menus=Gr,this._active=k.HOME}set active(e){this._active=e,this.render()}isActiveMenu(e){return e===k.HOME&&this._active===k.HOME?!0:e===k.HOME?!1:this._active.startsWith(e)}render(){this.$container.innerHTML=this.menus.map(e=>{const n=this.isActiveMenu(e.path),s=new z({svg:e.icon,options:{color:n?ee.PRIMARY:ee.BLACK}});return`
          <li>
            <a href="${e.path}" class="${n?"active":""}">
              ${s.html()}
              <span class="nav-menu">${e.title}</span>
            </a>
          </li>
        `}).join("")}}class Jr extends V{constructor(){super("#app"),this.store=q}renderHeader(){this.Header=new Wr,this.Header.render()}renderNavbar(){this.NavBar=new zr,this.NavBar.render(),this.Menu=new Kr,this.Menu.render(),this.store.setMenu(this.Menu)}render(){this.$container.innerHTML=`
      <header class="header-container desktop-only"></header>
      <nav class="navbar"></nav>
      <main id="main" class="main-container"></main>
    `,this.renderHeader(),this.renderNavbar()}}class Yr{constructor(){this.Layout=new Jr,this.Route=new Vr,this.init()}init(){this.Layout.render(),this.Route.init()}}document.addEventListener("DOMContentLoaded",new Yr);
